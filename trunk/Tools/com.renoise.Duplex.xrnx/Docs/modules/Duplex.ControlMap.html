<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Duplex</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/Duplex.Application.html">Duplex.Application</a></li>
  <li><a href="../modules/Duplex.Applications.Effect.html">Duplex.Applications.Effect</a></li>
  <li><a href="../modules/Duplex.Applications.GridPie.html">Duplex.Applications.GridPie</a></li>
  <li><a href="../modules/Duplex.Applications.Hydra.html">Duplex.Applications.Hydra</a></li>
  <li><a href="../modules/Duplex.Applications.Keyboard.html">Duplex.Applications.Keyboard</a></li>
  <li><a href="../modules/Duplex.Applications.Matrix.html">Duplex.Applications.Matrix</a></li>
  <li><a href="../modules/Duplex.Applications.Metronome.html">Duplex.Applications.Metronome</a></li>
  <li><a href="../modules/Duplex.Applications.MidiActions.Bindings.html">Duplex.Applications.MidiActions.Bindings</a></li>
  <li><a href="../modules/Duplex.Applications.MidiActions.html">Duplex.Applications.MidiActions</a></li>
  <li><a href="../modules/Duplex.Applications.Mixer.html">Duplex.Applications.Mixer</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_group.html">Duplex.Applications.Mlrx.Mlrx_group</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_note.html">Duplex.Applications.Mlrx.Mlrx_note</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_pos.html">Duplex.Applications.Mlrx.Mlrx_pos</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_track.html">Duplex.Applications.Mlrx.Mlrx_track</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.html">Duplex.Applications.Mlrx</a></li>
  <li><a href="../modules/Duplex.Applications.Navigator.html">Duplex.Applications.Navigator</a></li>
  <li><a href="../modules/Duplex.Applications.NoComponent.html">Duplex.Applications.NoComponent</a></li>
  <li><a href="../modules/Duplex.Applications.NotesOnWheels.html">Duplex.Applications.NotesOnWheels</a></li>
  <li><a href="../modules/Duplex.Applications.PatternSequence.html">Duplex.Applications.PatternSequence</a></li>
  <li><a href="../modules/Duplex.Applications.Recorder.html">Duplex.Applications.Recorder</a></li>
  <li><a href="../modules/Duplex.Applications.Repeater.html">Duplex.Applications.Repeater</a></li>
  <li><a href="../modules/Duplex.Applications.Rotate.html">Duplex.Applications.Rotate</a></li>
  <li><a href="../modules/Duplex.Applications.StepSequencer.html">Duplex.Applications.StepSequencer</a></li>
  <li><a href="../modules/Duplex.Applications.SwitchConfiguration.html">Duplex.Applications.SwitchConfiguration</a></li>
  <li><a href="../modules/Duplex.Applications.TrackSelector.html">Duplex.Applications.TrackSelector</a></li>
  <li><a href="../modules/Duplex.Applications.Transport.html">Duplex.Applications.Transport</a></li>
  <li><a href="../modules/Duplex.Applications.XYPad.html">Duplex.Applications.XYPad</a></li>
  <li><a href="../modules/Duplex.Automation.html">Duplex.Automation</a></li>
  <li><a href="../modules/Duplex.Browser.html">Duplex.Browser</a></li>
  <li><a href="../modules/Duplex.BrowserProcess.html">Duplex.BrowserProcess</a></li>
  <li><a href="../modules/Duplex.Canvas.html">Duplex.Canvas</a></li>
  <li><strong>Duplex.ControlMap</strong></li>
  <li><a href="../modules/Duplex.Device.html">Duplex.Device</a></li>
  <li><a href="../modules/Duplex.Display.html">Duplex.Display</a></li>
  <li><a href="../modules/Duplex.Globals.html">Duplex.Globals</a></li>
  <li><a href="../modules/Duplex.Message.html">Duplex.Message</a></li>
  <li><a href="../modules/Duplex.MessageStream.html">Duplex.MessageStream</a></li>
  <li><a href="../modules/Duplex.MidiDevice.html">Duplex.MidiDevice</a></li>
  <li><a href="../modules/Duplex.OscClient.html">Duplex.OscClient</a></li>
  <li><a href="../modules/Duplex.OscDevice.html">Duplex.OscDevice</a></li>
  <li><a href="../modules/Duplex.OscVoiceMgr.html">Duplex.OscVoiceMgr</a></li>
  <li><a href="../modules/Duplex.Preferences.html">Duplex.Preferences</a></li>
  <li><a href="../modules/Duplex.ProcessSlicer.html">Duplex.ProcessSlicer</a></li>
  <li><a href="../modules/Duplex.RoamingDSP.html">Duplex.RoamingDSP</a></li>
  <li><a href="../modules/Duplex.Scheduler.html">Duplex.Scheduler</a></li>
  <li><a href="../modules/Duplex.UIButton.html">Duplex.UIButton</a></li>
  <li><a href="../modules/Duplex.UIButtonStrip.html">Duplex.UIButtonStrip</a></li>
  <li><a href="../modules/Duplex.UIComponent.html">Duplex.UIComponent</a></li>
  <li><a href="../modules/Duplex.UIKey.html">Duplex.UIKey</a></li>
  <li><a href="../modules/Duplex.UIKeyPressure.html">Duplex.UIKeyPressure</a></li>
  <li><a href="../modules/Duplex.UILabel.html">Duplex.UILabel</a></li>
  <li><a href="../modules/Duplex.UIPad.html">Duplex.UIPad</a></li>
  <li><a href="../modules/Duplex.UIPitchBend.html">Duplex.UIPitchBend</a></li>
  <li><a href="../modules/Duplex.UISlider.html">Duplex.UISlider</a></li>
  <li><a href="../modules/Duplex.UISpinner.html">Duplex.UISpinner</a></li>
  <li><a href="../modules/Duplex.html">Duplex</a></li>
  <li><a href="../modules/main.html">main</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>Duplex.ControlMap</code></h1>
<p>Load and parse XML based control-map files, add extra methods, handy accessors.</p>
<p>
<p> </p>

<h3>XML syntax:</h3>

<ul>
    <li>Supported elements are: <code>Row</code>, <code>Column</code>, <code>Group</code> and <code>Param</code></li>
    <li><code>Group</code> nodes cannot be nested </li>
    <li>Only <code>Param</code> nodes are supported inside a <code>Group</code> node</li>
</ul>


<h3>In more detail</h3>

<ul>
    <li>Use <code>Row</code> and <code>Column</code> nodes for controlling the layout
    <ul>
        <li>Use <code>orientation</code> attribute to control vertical/horizontal layout </li>
    </ul></li>
    <li>Indicate grid layout by supplying a <code>column</code> attribute for a <code>Group</code> node
    <ul>
        <li>Note that <code>orientation</code> is then ignored (using a grid layout)</li>
    </ul></li>
    <li>Use <code>size</code> attribute to control the unit size of certain controls like
    sliders</li>
</ul>

</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#__init">__init ()</a></td>
	<td class="summary">Initializate the ControlMap class</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#load_definition">load_definition (file_path)</a></td>
	<td class="summary">Load_definition: load and parse xml</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#parse_definition">parse_definition (control_map_name, xml_string)</a></td>
	<td class="summary">Parse the supplied xml string (reset the counter first)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_indexed_element">get_indexed_element (index, group_name)</a></td>
	<td class="summary">Retrieve <param> by position within group</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_params">get_params (group_name, index)</a></td>
	<td class="summary">Retrieve <param> in indicated group, supporting wildcard syntax</p>

<p> Collect the third parameter from Pad_1:</p>
<pre><code>group_name="Pad_1", index=3
</code></pre>

<p> Collect all parameters from Pad_1</p>
<pre><code>group_name="Pad_1", index=nil
</code></pre>

<p> Collect the third parameter from Pad<em>1,Pad</em>2, etc.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#import_colorspace">import_colorspace (str)</a></td>
	<td class="summary">Parse a string into a colorspace table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_params_by_value">get_params_by_value (str, msg_context)</a></td>
	<td class="summary">This function will match values on the default channel, if not defined:</p>

<p> <code>CC#105|Ch1</code> will match both <code>CC#105|Ch1</code> and <code>CC#105</code></p>

<p> Also, we have wildcard support:</p>

<p> <code>C#*|Ch1</code> will match both <code>C#1|Ch1</code> and <code>C#5</code></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_osc_param">get_osc_param (str)</a></td>
	<td class="summary">Retrieve a parameter by matching it's <code>value</code> or <code>action</code> attribute</p>

<p> <code>/press 1 %i</code> matches <code>/press 1 1</code> but not <code>/press 1 A</code></p>

<p> <code>/pre** 1 %f</code> matches <code>/press 1 1</code> and <code>/preff 10 1.42</code></p>

<p> The method will match the action property if it's available, otherwise
 the <code>value</code> property (the <code>action</code> property is needed when a device
 transmit a different outgoing than incoming value)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#count_columns">count_columns (group_name)</a></td>
	<td class="summary">Count number of columns for the provided group</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#count_rows">count_rows (group_name)</a></td>
	<td class="summary">Count number of rows for the provided group</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_group_size">get_group_size (group_name)</a></td>
	<td class="summary">Count number of parameters in group</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_group_dimensions">get_group_dimensions (group_name)</a></td>
	<td class="summary">Get width/height of provided group</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#is_grid_group">is_grid_group (group_name)</a></td>
	<td class="summary">Test if the group describe a grid group
 (meaning: it contains columns, and each member is a button)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#is_button">is_button (group_name, index)</a></td>
	<td class="summary">Test if the parameter describes a button</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#determine_type">determine_type (str)</a></td>
	<td class="summary">Determine the type of message (OSC/Note/CC)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#_parse_xml">_parse_xml (str)</a></td>
	<td class="summary">Parse the control-map into a table
 (add meta-info - such as unique ids - while parsing)</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "__init"></a>
    <strong>__init ()</strong>
    </dt>
    <dd>
    Initializate the ControlMap class







</dd>
    <dt>
    <a name = "load_definition"></a>
    <strong>load_definition (file_path)</strong>
    </dt>
    <dd>
    Load_definition: load and parse xml


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">file_path</span>
         (String) the name of the file, e.g. "my_map.xml"
        </li>
    </ul>





</dd>
    <dt>
    <a name = "parse_definition"></a>
    <strong>parse_definition (control_map_name, xml_string)</strong>
    </dt>
    <dd>
    Parse the supplied xml string (reset the counter first)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">control_map_name</span>
         (String) path to XML file
        </li>
        <li><span class="parameter">xml_string</span>
         (String) the XML string
        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_indexed_element"></a>
    <strong>get_indexed_element (index, group_name)</strong>
    </dt>
    <dd>
    Retrieve <param> by position within group


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
         (int) the index/position
        </li>
        <li><span class="parameter">group_name</span>
         (string) the control-map group name
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the <param> attributes array
    </ol>




</dd>
    <dt>
    <a name = "get_params"></a>
    <strong>get_params (group_name, index)</strong>
    </dt>
    <dd>

<p>Retrieve <param> in indicated group, supporting wildcard syntax</p>

<p> Collect the third parameter from Pad_1:</p>
<pre><code>group_name="Pad_1", index=3
</code></pre>

<p> Collect all parameters from Pad_1</p>
<pre><code>group_name="Pad_1", index=nil
</code></pre>

<p> Collect the third parameter from Pad<em>1,Pad</em>2, etc. </p>
<pre><code>group_name="Pad_*", index=3
</code></pre>

<p> Collect every parameter from Pad<em>1,Pad</em>2, etc.</p>
<pre><code>group_name="Pad_*", index=nil
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">group_name</span>
         (String) the control-map group name
        </li>
        <li><span class="parameter">index</span>
         (int) optional index/position
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the param> attributes array
    </ol>




</dd>
    <dt>
    <a name = "import_colorspace"></a>
    <strong>import_colorspace (str)</strong>
    </dt>
    <dd>
    Parse a string into a colorspace table


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
         (String) a comma-separated string of RGB values, e.g. "4,4,0"
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Table
    </ol>




</dd>
    <dt>
    <a name = "get_params_by_value"></a>
    <strong>get_params_by_value (str, msg_context)</strong>
    </dt>
    <dd>
    This function will match values on the default channel, if not defined:</p>

<p> <code>CC#105|Ch1</code> will match both <code>CC#105|Ch1</code> and <code>CC#105</code></p>

<p> Also, we have wildcard support:</p>

<p> <code>C#*|Ch1</code> will match both <code>C#1|Ch1</code> and <code>C#5</code>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
         (string, control-map value attribute)
        </li>
        <li><span class="parameter">msg_context</span>
         (<a href="../modules/Duplex.Globals.html#DEVICE_MESSAGE">Duplex.Globals.DEVICE_MESSAGE</a>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        table containing matched parameters
    </ol>




</dd>
    <dt>
    <a name = "get_osc_param"></a>
    <strong>get_osc_param (str)</strong>
    </dt>
    <dd>
    Retrieve a parameter by matching it's <code>value</code> or <code>action</code> attribute</p>

<p> <code>/press 1 %i</code> matches <code>/press 1 1</code> but not <code>/press 1 A</code></p>

<p> <code>/pre** 1 %f</code> matches <code>/press 1 1</code> and <code>/preff 10 1.42</code></p>

<p> The method will match the action property if it's available, otherwise
 the <code>value</code> property (the <code>action</code> property is needed when a device
 transmit a different outgoing than incoming value)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
         (string, control-map value/action attribute)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>


<p>  Table (<code>Param</code> node),</p>
<pre><code>      values (table), if matched against a wildcard,
      wildcard_idx (integer), the matched index
      replace_char (string), the characters to insert
</code></pre>

    </ol>




</dd>
    <dt>
    <a name = "count_columns"></a>
    <strong>count_columns (group_name)</strong>
    </dt>
    <dd>
    Count number of columns for the provided group


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">group_name</span>
         (string) the control-map group name, e.g. <code>Encoders</code>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        int
    </ol>




</dd>
    <dt>
    <a name = "count_rows"></a>
    <strong>count_rows (group_name)</strong>
    </dt>
    <dd>
    Count number of rows for the provided group


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">group_name</span>
         (string) the control-map group name, e.g. <code>Encoders</code>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        int
    </ol>




</dd>
    <dt>
    <a name = "get_group_size"></a>
    <strong>get_group_size (group_name)</strong>
    </dt>
    <dd>
    Count number of parameters in group


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">group_name</span>
         (string) the control-map group name, e.g. <code>Encoders</code>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        int
    </ol>




</dd>
    <dt>
    <a name = "get_group_dimensions"></a>
    <strong>get_group_dimensions (group_name)</strong>
    </dt>
    <dd>
    Get width/height of provided group


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">group_name</span>
         (String) the control-map group name, e.g. <code>Encoders</code>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        width (or nil if not matched)</li>
        <li>
        height (or nil if not matched)</li>
    </ol>




</dd>
    <dt>
    <a name = "is_grid_group"></a>
    <strong>is_grid_group (group_name)</strong>
    </dt>
    <dd>
    Test if the group describe a grid group
 (meaning: it contains columns, and each member is a button)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">group_name</span>
         (String) the control-map group name, e.g. <code>Encoders</code>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        bool
    </ol>




</dd>
    <dt>
    <a name = "is_button"></a>
    <strong>is_button (group_name, index)</strong>
    </dt>
    <dd>
    Test if the parameter describes a button


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">group_name</span>
         (string) the control-map group name, e.g. <code>Encoders</code>
        </li>
        <li><span class="parameter">index</span>
         (int) index within group
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        bool, true if matched, false if not
    </ol>




</dd>
    <dt>
    <a name = "determine_type"></a>
    <strong>determine_type (str)</strong>
    </dt>
    <dd>
    Determine the type of message (OSC/Note/CC)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
         (String), supply a control-map <code>value</code> such as <code>C#4</code>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        enum (<a href="../modules/Duplex.Globals.html#DEVICE_MESSAGE">Duplex.Globals.DEVICE_MESSAGE</a>)
    </ol>




</dd>
    <dt>
    <a name = "_parse_xml"></a>
    <strong>_parse_xml (str)</strong>
    </dt>
    <dd>
    Parse the control-map into a table
 (add meta-info - such as unique ids - while parsing)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
         (String) the xml string
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Table
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
