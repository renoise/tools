<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Duplex</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
<li><a href="#Fields">Fields</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/Duplex.Application.html">Duplex.Application</a></li>
  <li><a href="../modules/Duplex.Applications.Effect.html">Duplex.Applications.Effect</a></li>
  <li><a href="../modules/Duplex.Applications.GridPie.html">Duplex.Applications.GridPie</a></li>
  <li><a href="../modules/Duplex.Applications.Hydra.html">Duplex.Applications.Hydra</a></li>
  <li><a href="../modules/Duplex.Applications.Keyboard.html">Duplex.Applications.Keyboard</a></li>
  <li><a href="../modules/Duplex.Applications.Matrix.html">Duplex.Applications.Matrix</a></li>
  <li><a href="../modules/Duplex.Applications.Metronome.html">Duplex.Applications.Metronome</a></li>
  <li><a href="../modules/Duplex.Applications.MidiActions.Bindings.html">Duplex.Applications.MidiActions.Bindings</a></li>
  <li><a href="../modules/Duplex.Applications.MidiActions.html">Duplex.Applications.MidiActions</a></li>
  <li><a href="../modules/Duplex.Applications.Mixer.html">Duplex.Applications.Mixer</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_group.html">Duplex.Applications.Mlrx.Mlrx_group</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_note.html">Duplex.Applications.Mlrx.Mlrx_note</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_pos.html">Duplex.Applications.Mlrx.Mlrx_pos</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.Mlrx_track.html">Duplex.Applications.Mlrx.Mlrx_track</a></li>
  <li><a href="../modules/Duplex.Applications.Mlrx.html">Duplex.Applications.Mlrx</a></li>
  <li><a href="../modules/Duplex.Applications.Navigator.html">Duplex.Applications.Navigator</a></li>
  <li><a href="../modules/Duplex.Applications.NoComponent.html">Duplex.Applications.NoComponent</a></li>
  <li><a href="../modules/Duplex.Applications.NotesOnWheels.html">Duplex.Applications.NotesOnWheels</a></li>
  <li><a href="../modules/Duplex.Applications.PatternSequence.html">Duplex.Applications.PatternSequence</a></li>
  <li><a href="../modules/Duplex.Applications.Recorder.html">Duplex.Applications.Recorder</a></li>
  <li><a href="../modules/Duplex.Applications.Repeater.html">Duplex.Applications.Repeater</a></li>
  <li><a href="../modules/Duplex.Applications.Rotate.html">Duplex.Applications.Rotate</a></li>
  <li><a href="../modules/Duplex.Applications.StepSequencer.html">Duplex.Applications.StepSequencer</a></li>
  <li><a href="../modules/Duplex.Applications.SwitchConfiguration.html">Duplex.Applications.SwitchConfiguration</a></li>
  <li><a href="../modules/Duplex.Applications.TrackSelector.html">Duplex.Applications.TrackSelector</a></li>
  <li><a href="../modules/Duplex.Applications.Transport.html">Duplex.Applications.Transport</a></li>
  <li><a href="../modules/Duplex.Applications.XYPad.html">Duplex.Applications.XYPad</a></li>
  <li><a href="../modules/Duplex.Automation.html">Duplex.Automation</a></li>
  <li><a href="../modules/Duplex.Browser.html">Duplex.Browser</a></li>
  <li><a href="../modules/Duplex.BrowserProcess.html">Duplex.BrowserProcess</a></li>
  <li><a href="../modules/Duplex.Canvas.html">Duplex.Canvas</a></li>
  <li><a href="../modules/Duplex.ControlMap.html">Duplex.ControlMap</a></li>
  <li><a href="../modules/Duplex.Device.html">Duplex.Device</a></li>
  <li><a href="../modules/Duplex.Display.html">Duplex.Display</a></li>
  <li><a href="../modules/Duplex.Globals.html">Duplex.Globals</a></li>
  <li><a href="../modules/Duplex.Message.html">Duplex.Message</a></li>
  <li><a href="../modules/Duplex.MessageStream.html">Duplex.MessageStream</a></li>
  <li><a href="../modules/Duplex.MidiDevice.html">Duplex.MidiDevice</a></li>
  <li><a href="../modules/Duplex.OscClient.html">Duplex.OscClient</a></li>
  <li><a href="../modules/Duplex.OscDevice.html">Duplex.OscDevice</a></li>
  <li><a href="../modules/Duplex.OscVoiceMgr.html">Duplex.OscVoiceMgr</a></li>
  <li><a href="../modules/Duplex.Preferences.html">Duplex.Preferences</a></li>
  <li><a href="../modules/Duplex.ProcessSlicer.html">Duplex.ProcessSlicer</a></li>
  <li><a href="../modules/Duplex.RoamingDSP.html">Duplex.RoamingDSP</a></li>
  <li><a href="../modules/Duplex.Scheduler.html">Duplex.Scheduler</a></li>
  <li><a href="../modules/Duplex.UIButton.html">Duplex.UIButton</a></li>
  <li><a href="../modules/Duplex.UIButtonStrip.html">Duplex.UIButtonStrip</a></li>
  <li><a href="../modules/Duplex.UIComponent.html">Duplex.UIComponent</a></li>
  <li><strong>Duplex.UIKey</strong></li>
  <li><a href="../modules/Duplex.UIKeyPressure.html">Duplex.UIKeyPressure</a></li>
  <li><a href="../modules/Duplex.UILabel.html">Duplex.UILabel</a></li>
  <li><a href="../modules/Duplex.UIPad.html">Duplex.UIPad</a></li>
  <li><a href="../modules/Duplex.UIPitchBend.html">Duplex.UIPitchBend</a></li>
  <li><a href="../modules/Duplex.UISlider.html">Duplex.UISlider</a></li>
  <li><a href="../modules/Duplex.UISpinner.html">Duplex.UISpinner</a></li>
  <li><a href="../modules/Duplex.html">Duplex</a></li>
  <li><a href="../modules/main.html">main</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>Duplex.UIKey</code></h1>
<p>A UIComponent designed to work with a standard keyboard, it responds to a <code>keyboard</code> or <code>key</code> type parameter</p>

<p>Instead of a single numeric value, the UIKey can represent both pitch and velocity.</p>
<p>
<p> UIKey does not produce sound or trigger notes by itself, you need to tie it together with you own application logic in order to achieve this. </p>

<p>The component can be used in two different ways:</p>

<ol>
    <li><p>Hidden, matching any note (<code>match<em>any</em>note=true</code>) In this mode, the UIKey receive any incoming notes, which you can use as the basis for building your own keyboard implementation.</p></li>
    <li><p>Interactive, mapping to individual inputs (<code>match<em>any</em>note=false</code>) In this mode, the UIKey will respond when the right area has been triggered by the user (the UIKey, like any UIComponent, isn't limited to a single button, but can have any rectangular size). Use this to visualize the input from the keyboard. The events are designed to be similar to the events employed by the other UI component: press, release and hold events are standard. </p></li>
</ol>

<p>Supported input methods</p>

<ul>
    <li>keyboard</li>
    <li>key</li>
</ul>

</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#__init">__init (app)</a></td>
	<td class="summary">Initialize the UIKey class</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#test">test (msg)</a></td>
	<td class="summary">Perform a test of the incoming value:
 if we pass any note (keyboard mode), the incoming pitch is remembered
 else, pitch is assigned when the UIKey is first created (and the
 containing application will then apply it's own transpose)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#do_press">do_press (msg)</a></td>
	<td class="summary">A key was pressed</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#do_release">do_release (msg)</a></td>
	<td class="summary">A key was released</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#do_hold">do_hold (msg)</a></td>
	<td class="summary">A key was held</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#translate_pitch">translate_pitch (msg)</a></td>
	<td class="summary">Translate_pitch, used for determining the correct pitch</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#draw">draw ()</a></td>
	<td class="summary">Update the appearance - inherited from UIComponent</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#update_keys">update_keys ()</a></td>
	<td class="summary">Force complete refresh when used as keyboard - a bit of a hack <br/>
 (the display will reset the "refresh_requested" property)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#add_listeners">add_listeners ()</a></td>
	<td class="summary">
<p>Add event listeners</p>
<pre><code>DEVICE_EVENT.BUTTON_PRESSED
DEVICE_EVENT.BUTTON_RELEASED
DEVICE_EVENT.BUTTON_HELD
</code></pre>
</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#remove_listeners">remove_listeners ()</a></td>
	<td class="summary">Remove previously attached event listeners</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#palette">palette</a></td>
	<td class="summary">specify the default palette</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.disabled_keys">self.disabled_keys</a></td>
	<td class="summary">when acting as keyboard, maintain the display state:
 decide which keys should be disabled (upper/lower range)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.pressed_keys">self.pressed_keys</a></td>
	<td class="summary">decide which keys are currently pressed</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#self.pressed">self.pressed</a></td>
	<td class="summary">true while the key is pressed</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.disabled">self.disabled</a></td>
	<td class="summary">if key is disabled, draw "dimmed" version</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.pitch">self.pitch</a></td>
	<td class="summary">the current pitch</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.transpose">self.transpose</a></td>
	<td class="summary">the current transpose (semitones)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.velocity">self.velocity</a></td>
	<td class="summary">the current velocity</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.match_any_note">self.match_any_note</a></td>
	<td class="summary">when true, we match any incoming note</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.on_press">self.on_press</a></td>
	<td class="summary">external event handlers</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self._key_update_requested">self._key_update_requested</a></td>
	<td class="summary">when acting as keyboard, raise this flag to tell the
 display to refresh the entire keyboard (a bit of a hack but
 the keyboard is entirely virtual, so it's a special case)</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "__init"></a>
    <strong>__init (app)</strong>
    </dt>
    <dd>
    Initialize the UIKey class


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">app</span>
         (<a href="../modules/Duplex.Application.html#">Duplex.Application</a>)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "test"></a>
    <strong>test (msg)</strong>
    </dt>
    <dd>
    Perform a test of the incoming value:
 if we pass any note (keyboard mode), the incoming pitch is remembered
 else, pitch is assigned when the UIKey is first created (and the
 containing application will then apply it's own transpose)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msg</span>
         (<a href="../modules/Duplex.Message.html#">Duplex.Message</a>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (bool), true when message was considered valid
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/Duplex.UIComponent.html#test">Duplex.UIComponent.test</a>
    </ul>


</dd>
    <dt>
    <a name = "do_press"></a>
    <strong>do_press (msg)</strong>
    </dt>
    <dd>
    A key was pressed


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msg</span>
         (<a href="../modules/Duplex.Message.html#">Duplex.Message</a>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self or nil
    </ol>




</dd>
    <dt>
    <a name = "do_release"></a>
    <strong>do_release (msg)</strong>
    </dt>
    <dd>
    A key was released


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msg</span>
         (<a href="../modules/Duplex.Message.html#">Duplex.Message</a>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self or nil
    </ol>




</dd>
    <dt>
    <a name = "do_hold"></a>
    <strong>do_hold (msg)</strong>
    </dt>
    <dd>
    A key was held


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msg</span>
         (<a href="../modules/Duplex.Message.html#">Duplex.Message</a>)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "translate_pitch"></a>
    <strong>translate_pitch (msg)</strong>
    </dt>
    <dd>
    Translate_pitch, used for determining the correct pitch


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msg</span>
         (<a href="../modules/Duplex.Message.html#">Duplex.Message</a>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        pitch (int)
    </ol>




</dd>
    <dt>
    <a name = "draw"></a>
    <strong>draw ()</strong>
    </dt>
    <dd>
    Update the appearance - inherited from UIComponent





    <h3>See also:</h3>
    <ul>
         <a href="../modules/Duplex.UIComponent.html#">Duplex.UIComponent</a>
    </ul>


</dd>
    <dt>
    <a name = "update_keys"></a>
    <strong>update_keys ()</strong>
    </dt>
    <dd>
    Force complete refresh when used as keyboard - a bit of a hack <br/>
 (the display will reset the "refresh_requested" property)







</dd>
    <dt>
    <a name = "add_listeners"></a>
    <strong>add_listeners ()</strong>
    </dt>
    <dd>

<p>Add event listeners</p>
<pre><code>DEVICE_EVENT.BUTTON_PRESSED
DEVICE_EVENT.BUTTON_RELEASED
DEVICE_EVENT.BUTTON_HELD
</code></pre>






    <h3>See also:</h3>
    <ul>
         <a href="../modules/Duplex.UIComponent.html#">Duplex.UIComponent</a>
    </ul>


</dd>
    <dt>
    <a name = "remove_listeners"></a>
    <strong>remove_listeners ()</strong>
    </dt>
    <dd>
    Remove previously attached event listeners





    <h3>See also:</h3>
    <ul>
         <a href="../modules/Duplex.UIComponent.html#">Duplex.UIComponent</a>
    </ul>


</dd>
</dl>
    <h2><a name="Tables"></a>Tables</h2>
    <dl class="function">
    <dt>
    <a name = "palette"></a>
    <strong>palette</strong>
    </dt>
    <dd>
    specify the default palette


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">pressed</span>
         The pressed state
        </li>
        <li><span class="parameter">released</span>
         The released state
        </li>
        <li><span class="parameter">disabled</span>
         The disabled state
        </li>
    </ul>





</dd>
    <dt>
    <a name = "self.disabled_keys"></a>
    <strong>self.disabled_keys</strong>
    </dt>
    <dd>
    when acting as keyboard, maintain the display state:
 decide which keys should be disabled (upper/lower range)







</dd>
    <dt>
    <a name = "self.pressed_keys"></a>
    <strong>self.pressed_keys</strong>
    </dt>
    <dd>
    decide which keys are currently pressed







</dd>
</dl>
    <h2><a name="Fields"></a>Fields</h2>
    <dl class="function">
    <dt>
    <a name = "self.pressed"></a>
    <strong>self.pressed</strong>
    </dt>
    <dd>
    true while the key is pressed







</dd>
    <dt>
    <a name = "self.disabled"></a>
    <strong>self.disabled</strong>
    </dt>
    <dd>
    if key is disabled, draw "dimmed" version







</dd>
    <dt>
    <a name = "self.pitch"></a>
    <strong>self.pitch</strong>
    </dt>
    <dd>
    the current pitch







</dd>
    <dt>
    <a name = "self.transpose"></a>
    <strong>self.transpose</strong>
    </dt>
    <dd>
    the current transpose (semitones)







</dd>
    <dt>
    <a name = "self.velocity"></a>
    <strong>self.velocity</strong>
    </dt>
    <dd>
    the current velocity







</dd>
    <dt>
    <a name = "self.match_any_note"></a>
    <strong>self.match_any_note</strong>
    </dt>
    <dd>
    when true, we match any incoming note







</dd>
    <dt>
    <a name = "self.on_press"></a>
    <strong>self.on_press</strong>
    </dt>
    <dd>
    external event handlers







</dd>
    <dt>
    <a name = "self._key_update_requested"></a>
    <strong>self._key_update_requested</strong>
    </dt>
    <dd>
    when acting as keyboard, raise this flag to tell the
 display to refresh the entire keyboard (a bit of a hack but
 the keyboard is entirely virtual, so it's a special case)







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
